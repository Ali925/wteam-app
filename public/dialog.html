<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Select share window</title>
  </head>
  <style>
    #screens{
          display: block;
          max-width: 100vw;
    }
    .screen{
        display: inline-block;
        width: 150px;
        height: 150px;
        margin-left: 15px;
        margin-right: 15px;
    }

    .screen > img{
        width: 100%;
        height: auto;
        vertical-align: middle;
        cursor: pointer;
        border: 1.5px solid transparent;
        transition: all .4s;
    }

    .screen > img:hover{
      border-color: #aaa;
    }

  </style>
  <body>
    <div id="root">
      <div id="screens">
        
      </div>
    </div>
    <script>
      const waitProps = window.require('electron-custom-dialog').waitProps;
      const sendResponse = window.require('electron-custom-dialog').sendResponse;
 
      waitProps().then((props) => {
        let sources = JSON.parse(props.sources), temp = "";
        document.getElementById("screens").innerHTML = "";
        sources.forEach(source => {
          if(source.label.toLowerCase() != 'entire screen')
            temp += "<div class='screen'><img id='"+source.id+"' class='screenImage' src='"+source.thumb+"' /></div>";
        });
        document.getElementById("screens").innerHTML = temp;

        setTimeout(() => {
          let images = document.getElementsByClassName('  screenImage');
          for (var i = 0; i < images.length; i++) {
             images[i].addEventListener('click', (e) => {
              sendResponse(e.currentTarget.id);
             }); 
          }
        });
        
      })
 
    </script> 
  </body>
</html>